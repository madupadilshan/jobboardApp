{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Madupa Dilshan\\\\Desktop\\\\project\\\\job-board-app\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = ({\n  role\n}) => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [applications, setApplications] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          // Fetch jobs for job seekers\n          if (role === 'jobSeeker') {\n            const jobsResponse = await axios.get('http://localhost:5000/api/jobs', {\n              headers: {\n                Authorization: `Bearer ${token}`\n              }\n            });\n            setJobs(jobsResponse.data.jobs);\n          }\n\n          // Fetch applications for companies\n          if (role === 'company') {\n            const appsResponse = await axios.get('http://localhost:5000/api/applications/company', {\n              headers: {\n                Authorization: `Bearer ${token}`\n              }\n            });\n            setApplications(appsResponse.data.applications);\n          }\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Error fetching data:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Server error');\n      }\n    };\n    fetchData();\n  }, [role]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: role === 'company' ? 'Company Dashboard' : 'Job Seeker Dashboard'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), role === 'company' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"company-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Job Applications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), applications.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"applications-list\",\n        children: applications.map(app => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"application-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Application for: \", app.job.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Applicant: \", app.user.name, \" (\", app.user.email, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Cover Letter: \", app.coverLetter]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: app.resume,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"View Resume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }, this)]\n        }, app._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No applications yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jobseeker-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Available Jobs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), jobs.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"jobs-list\",\n        children: jobs.map(job => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"job-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: job.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Company: \", job.company]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Location: \", job.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Salary: \", job.salary]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/apply/${job._id}`,\n            className: \"apply-button\",\n            children: \"Apply Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this)]\n        }, job._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No jobs available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"h18xotnNCoJqmupZqET1Bg3WRYY=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","jsxDEV","_jsxDEV","Dashboard","role","_s","jobs","setJobs","applications","setApplications","fetchData","token","localStorage","getItem","jobsResponse","get","headers","Authorization","data","appsResponse","error","_error$response","_error$response$data","console","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","app","job","title","user","name","email","coverLetter","href","resume","target","rel","_id","company","location","salary","to","_c","$RefreshReg$"],"sources":["C:/Users/Madupa Dilshan/Desktop/project/job-board-app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Dashboard = ({ role }) => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [applications, setApplications] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n          // Fetch jobs for job seekers\r\n          if (role === 'jobSeeker') {\r\n            const jobsResponse = await axios.get('http://localhost:5000/api/jobs', {\r\n              headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            setJobs(jobsResponse.data.jobs);\r\n          }\r\n          \r\n          // Fetch applications for companies\r\n          if (role === 'company') {\r\n            const appsResponse = await axios.get('http://localhost:5000/api/applications/company', {\r\n              headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            setApplications(appsResponse.data.applications);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error.response?.data?.message || 'Server error');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [role]);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>{role === 'company' ? 'Company Dashboard' : 'Job Seeker Dashboard'}</h2>\r\n      \r\n      {role === 'company' ? (\r\n        <div className=\"company-view\">\r\n          <h3>Job Applications</h3>\r\n          {applications.length > 0 ? (\r\n            <div className=\"applications-list\">\r\n              {applications.map(app => (\r\n                <div key={app._id} className=\"application-card\">\r\n                  <h4>Application for: {app.job.title}</h4>\r\n                  <p>Applicant: {app.user.name} ({app.user.email})</p>\r\n                  <p>Cover Letter: {app.coverLetter}</p>\r\n                  <a href={app.resume} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    View Resume\r\n                  </a>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p>No applications yet.</p>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"jobseeker-view\">\r\n          <h3>Available Jobs</h3>\r\n          {jobs.length > 0 ? (\r\n            <ul className=\"jobs-list\">\r\n              {jobs.map((job) => (\r\n                <li key={job._id} className=\"job-card\">\r\n                  <h4>{job.title}</h4>\r\n                  <p>Company: {job.company}</p>\r\n                  <p>Location: {job.location}</p>\r\n                  <p>Salary: {job.salary}</p>\r\n                  <Link to={`/apply/${job._id}`} className=\"apply-button\">\r\n                    Apply Now\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>No jobs available.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}